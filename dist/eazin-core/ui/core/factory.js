!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("eazin-core/ui/core/factory",[],r):"object"==typeof exports?exports["eazin-core/ui/core/factory"]=r():e["eazin-core/ui/core/factory"]=r()}(window,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/",t(t.s=189)}({101:function(e,r,t){"use strict";t.r(r),t.d(r,"buildActions",(function(){return l})),t.d(r,"buildAPIActions",(function(){return p})),t.d(r,"buildReducer",(function(){return d})),t.d(r,"buildConnector",(function(){return y}));t(4),t(13),t(2),t(5),t(29),t(75),t(6),t(7),t(3),t(11),t(19),t(137),t(8),t(27);var n=t(14),o=t(15);function c(e,r,t,n,o,c,u){try{var a=e[c](u),i=a.value}catch(e){return void t(e)}a.done?r(i):Promise.resolve(i).then(n,o)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var u=e.apply(r,t);function a(e){c(u,n,o,a,i,"next",e)}function i(e){c(u,n,o,a,i,"throw",e)}a(void 0)}))}}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var f=function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))},l=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.singular,n=r.idKey,o=void 0===n?"id":n,c=r.plural,u=void 0===c?"".concat(t,"s"):c,a=r.ucSingular,l=void 0===a?t.toUpperCase():a,p=r.ucPlural,d=void 0===p?u.toUpperCase():p,y=r.ucfSingular,b=void 0===y?f(t):y,v=r.ucfPlural,g=void 0===v?f(u):v;return s(e={},"clear".concat(g),(function(){return{type:"CLEAR_".concat(d)}})),s(e,"removeOne".concat(b),(function(e){return{type:"REMOVE_".concat(l),payload:e}})),s(e,"removeMany".concat(g),(function(e){if(!Array.isArray(e))throw new Error("Bad argument, must be an array");return{type:"REMOVE_".concat(d),payload:e}})),s(e,"upsertOne".concat(b),(function(e){var r=e[o];if(!r)throw new Error("Missing ".concat(o," to upsertOne").concat(b));return{type:"UPSERT_".concat(l),payload:i({},e,s({},o,r))}})),s(e,"upsertMany".concat(g),(function(e){if(!Array.isArray(e))throw new Error("Bad argument, must be an array");return{type:"UPSERT_".concat(d),payload:e}})),e},p=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.singular,n=r.endpoint,c=r.idKey,a=void 0===c?"id":c,p=r.plural,d=void 0===p?"".concat(t,"s"):p,y=r.ucSingular,b=void 0===y?t.toUpperCase():y,v=r.ucPlural,g=void 0===v?d.toUpperCase():v,m=r.ucfSingular,O=void 0===m?f(t):m,h=r.ucfPlural,j=void 0===h?f(d):h,x=l({singular:t,idKey:a,plural:d,ucSingular:b,ucPlural:g,ucfSingular:O,ucfPlural:j});return Object.keys(x).reduce((function(e,r){return i({},e,s({},r,(function(e){return function(){var t=u(regeneratorRuntime.mark((function t(){var c,u,i,s,f,l,p,d,y=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c=y.length,u=new Array(c),i=0;i<c;i++)u[i]=y[i];if(t.prev=1,!r.startsWith("clear")){t.next=8;break}return t.next=5,Object(o.delete)(n);case 5:e(x[r]()),t.next=29;break;case 8:if(!r.startsWith("remove")){t.next=15;break}return s=u[0][a]||u[0],t.next=12,Object(o.delete)("".concat(n,"/").concat(s));case 12:e(x[r](s)),t.next=29;break;case 15:if(!r.startsWith("upsertOne")){t.next=29;break}if(f=u[0],!(l=f[a])){t.next=24;break}return t.next=21,Object(o.patch)("".concat(n,"/").concat(l),{body:f});case 21:t.t0=t.sent,t.next=27;break;case 24:return t.next=26,Object(o.post)(n,{body:f});case 26:t.t0=t.sent;case 27:p=t.t0,e(x[r](p));case 29:if(!r.startsWith("upsertMany")){t.next=31;break}throw new Error("PR welcome: eazin action factory async upsertMany* (".concat(r,") is not yet ready"));case 31:t.next=36;break;case 33:t.prev=33,t.t1=t.catch(1),(d=console).error.apply(d,['async action "%s"',r].concat(u,[t.t1.stack]));case 36:case"end":return t.stop()}}),t,null,[[1,33]])})));return function(){return t.apply(this,arguments)}}()})))}),(s(e={},"retrieveOne".concat(O),(function(e){return function(){var r=u(regeneratorRuntime.mark((function r(t){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=e,r.t1=x,r.t2="upsertOne".concat(O),r.next=5,Object(o.get)("".concat(n,"/").concat(t));case 5:return r.t3=r.sent,r.t4=r.t1[r.t2].call(r.t1,r.t3),r.abrupt("return",(0,r.t0)(r.t4));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()})),s(e,"retrieveMany".concat(j),(function(e){return function(){var r=u(regeneratorRuntime.mark((function r(){var t=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.length>0&&void 0!==t[0]?t[0]:{},r.t0=e,r.t1=x,r.t2="upsertMany".concat(j),r.next=6,Object(o.get)(n);case 6:return r.t3=r.sent,r.t4=r.t1[r.t2].call(r.t1,r.t3),r.abrupt("return",(0,r.t0)(r.t4));case 9:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()})),e))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.singular,t=e.idKey,n=void 0===t?"id":t,o=e.plural,c=void 0===o?"".concat(r,"s"):o,u=e.ucSingular,a=void 0===u?r.toUpperCase():u,f=e.ucPlural,l=void 0===f?c.toUpperCase():f;return function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,o=t.type,c=t.payload;switch(o){case"CLEAR_".concat(l):return{};case"REMOVE_".concat(a):return r[c]?i({},r,s({},c,void 0)):r;case"REMOVE_".concat(l):return e=i({},r),c.forEach((function(r){e=i({},e,s({},r,void 0))})),e;case"UPSERT_".concat(a):return c[n]?i({},r,s({},c[n],i({},r[c[n]]||{},{},c))):(console.warn("Missing %s in payload for action type %s",n,o),r);case"UPSERT_".concat(l):return e=i({},r),c.forEach((function(t){t[n]?e=i({},e,s({},t[n],i({},r[t[n]]||{},{},t))):console.warn("Missing %s in item for action type %s",n,o)})),e;default:return r}}},y=function(e){var r=e.singular,t=e.plural,o=void 0===t?"".concat(r,"s"):t,c=e.idKey,u=void 0===c?"id":c,a=e.actions,f=void 0===a?null:a,l=function(e,r){var t=e[o],n=r[u];return n?t[n]:t};return f?Object(n.connect)(l,(function(e){return Object.keys(f).reduce((function(r,t){return i({},r,s({},t,(function(){return e(f[t].apply(f,arguments))})))}),{})})):Object(n.connect)(l)};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.singular,t=e.endpoint,n=e.idKey,o=void 0===n?"id":n,c=e.plural,u=void 0===c?"".concat(r,"s"):c,a=e.ucSingular,i=void 0===a?r.toUpperCase():a,s=e.ucPlural,y=void 0===s?u.toUpperCase():s,b=e.ucfSingular,v=void 0===b?f(r):b,g=e.ucfPlural,m=void 0===g?f(u):g;return[d({singular:r,idKey:o,plural:u,ucSingular:i,ucPlural:y,ucfSingular:v,ucfPlural:m}),l({singular:r,idKey:o,plural:u,ucSingular:i,ucPlural:y,ucfSingular:v,ucfPlural:m}),t&&p({endpoint:t,singular:r,idKey:o,plural:u,ucSingular:i,ucPlural:y,ucfSingular:v,ucfPlural:m})].filter(Boolean)}},11:function(e,r){e.exports=require("core-js/modules/es.object.to-string")},13:function(e,r){e.exports=require("core-js/modules/es.array.concat")},137:function(e,r){e.exports=require("core-js/modules/es.string.starts-with")},14:function(e,r){e.exports=require("react-redux")},15:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return l})),t.d(r,"get",(function(){return d})),t.d(r,"head",(function(){return y})),t.d(r,"post",(function(){return b})),t.d(r,"put",(function(){return v})),t.d(r,"patch",(function(){return g})),t.d(r,"delete",(function(){return m})),t.d(r,"connect",(function(){return O})),t.d(r,"options",(function(){return h})),t.d(r,"trace",(function(){return j}));t(4),t(13),t(2),t(5),t(26),t(29),t(40),t(6),t(7),t(3),t(11),t(19),t(8),t(27);var n=t(32),o=t(25);function c(e,r,t,n,o,c,u){try{var a=e[c](u),i=a.value}catch(e){return void t(e)}a.done?r(i):Promise.resolve(i).then(n,o)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var u=e.apply(r,t);function a(e){c(u,n,o,a,i,"next",e)}function i(e){c(u,n,o,a,i,"throw",e)}a(void 0)}))}}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function f(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(r,"readUserToken",(function(){return o.default}));var l=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.parser,c=void 0===t?"json":t,a=r.method,s=void 0===a?"GET":a,l=f(r,["parser","method"]),p=Object(o.default)(),d=i({},l,{method:s.toUpperCase(),headers:i({"Content-Type":"application/json",Accept:"application/json"},p?{Authorization:"Bearer ".concat(p)}:{},{},l.headers||{}),body:"string"==typeof l.body?l.body:JSON.stringify(l.body)});return Object(n.default)(e,d).then(function(){var r=u(regeneratorRuntime.mark((function r(t){var n,o,u,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t.status>=400)){r.next=22;break}return r.prev=1,r.next=4,t[c]();case 4:n=r.sent,r.next=12;break;case 7:throw r.prev=7,r.t0=r.catch(1),(o=new Error(t.statusText)).fields={},o;case 12:if(!n.error){r.next=21;break}throw"string"!=typeof(u=n.error.message?n.error.message:n.error)&&n.error.name&&(u=n.error.name),"string"!=typeof u&&(u="Serious Error"),console.warn("".concat(l.method||"GET"," ").concat(e,": ").concat(u)),(a=new Error(u)).fields=n.error.fields,a.object=n.error,a;case 21:return r.abrupt("return",n);case 22:if(204!==t.status){r.next=24;break}return r.abrupt("return");case 24:return r.abrupt("return",t[c]());case 25:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(e){return r.apply(this,arguments)}}())},p=["get","head","post","put","patch","delete","connect","options","trace"].reduce((function(e,r){return l[r]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(e,i({},t,{method:r}))},i({},e,s({},r,l[r]))}),{}),d=p.get,y=p.head,b=p.post,v=p.put,g=p.patch,m=p.delete,O=p.connect,h=p.options,j=p.trace},189:function(e,r,t){e.exports=t(101)},19:function(e,r){e.exports=require("core-js/modules/es.promise")},2:function(e,r){e.exports=require("core-js/modules/es.array.filter")},25:function(e,r,t){"use strict";t.r(r),t.d(r,"storeName",(function(){return n}));var n="eazin-1";r.default=function(){try{return JSON.parse(localStorage[n]||"{}").userToken}catch(e){console.warn("reading ",e)}}},26:function(e,r){e.exports=require("core-js/modules/es.array.index-of")},27:function(e,r){e.exports=require("regenerator-runtime/runtime")},29:function(e,r){e.exports=require("core-js/modules/es.array.reduce")},3:function(e,r){e.exports=require("core-js/modules/es.object.keys")},32:function(e,r,t){"use strict";t.r(r);t(11),t(19);r.default=fetch},4:function(e,r){e.exports=require("core-js/modules/es.symbol")},40:function(e,r){e.exports=require("core-js/modules/es.function.name")},5:function(e,r){e.exports=require("core-js/modules/es.array.for-each")},6:function(e,r){e.exports=require("core-js/modules/es.object.get-own-property-descriptor")},7:function(e,r){e.exports=require("core-js/modules/es.object.get-own-property-descriptors")},75:function(e,r){e.exports=require("core-js/modules/es.array.slice")},8:function(e,r){e.exports=require("core-js/modules/web.dom-collections.for-each")}})}));