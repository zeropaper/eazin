{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"react\"","webpack://[name]/external \"@material-ui/core\"","webpack://[name]/external \"eazinpublishingtest-core/ui\"","webpack://[name]/external \"core-js/modules/es.symbol\"","webpack://[name]/external \"core-js/modules/es.array.filter\"","webpack://[name]/external \"core-js/modules/es.object.get-own-property-descriptor\"","webpack://[name]/external \"core-js/modules/es.object.get-own-property-descriptors\"","webpack://[name]/external \"core-js/modules/es.object.keys\"","webpack://[name]/external \"core-js/modules/web.dom-collections.for-each\"","webpack://[name]/external \"react-router-dom\"","webpack://[name]/external \"react-redux\"","webpack://[name]/external \"@material-ui/core/styles\"","webpack://[name]/external \"core-js/modules/es.array.concat\"","webpack://[name]/external \"core-js/modules/es.object.to-string\"","webpack://[name]/external \"core-js/modules/es.array.iterator\"","webpack://[name]/external \"core-js/modules/web.dom-collections.iterator\"","webpack://[name]/./packages/settings/src/ui/settings.actions.js","webpack://[name]/external \"core-js/modules/es.symbol.description\"","webpack://[name]/external \"core-js/modules/es.symbol.iterator\"","webpack://[name]/external \"core-js/modules/es.string.iterator\"","webpack://[name]/external \"core-js/modules/es.string.trim\"","webpack://[name]/external \"core-js/modules/es.promise\"","webpack://[name]/external \"core-js/modules/es.array.map\"","webpack://[name]/external \"regenerator-runtime/runtime\"","webpack://[name]/external \"validator/es/lib/isEmail\"","webpack://[name]/external \"core-js/modules/es.regexp.to-string\"","webpack://[name]/external \"core-js/modules/es.object.get-prototype-of\"","webpack://[name]/external \"core-js/modules/es.object.set-prototype-of\"","webpack://[name]/external \"core-js/modules/es.regexp.exec\"","webpack://[name]/external \"querystring\"","webpack://[name]/external \"core-js/modules/es.array.slice\"","webpack://[name]/external \"core-js/modules/es.string.match\"","webpack://[name]/external \"core-js/modules/es.string.search\"","webpack://[name]/external \"@material-ui/styles\"","webpack://[name]/./packages/users/src/ui/user.actions.js","webpack://[name]/./packages/users/src/ui/user.reducer.js","webpack://[name]/./packages/users/src/ui/user.validators.js","webpack://[name]/./packages/users/src/ui/UserRegister.jsx","webpack://[name]/./packages/users/src/ui/UserLogin.jsx","webpack://[name]/./packages/users/src/ui/UserResetSend.jsx","webpack://[name]/./packages/users/src/ui/UserResetChange.jsx","webpack://[name]/./packages/users/src/ui/UserVerify.jsx","webpack://[name]/./packages/users/src/ui/AnonForms.jsx","webpack://[name]/./packages/users/src/ui/UserAccountView.jsx","webpack://[name]/./packages/users/src/ui/UsersView.jsx","webpack://[name]/./packages/users/src/ui/UserDrawer.jsx","webpack://[name]/./packages/users/src/ui/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","setSetting","type","payload","clearSetting","setUser","validPassword","val","length","match","required","validateOnChange","validateOnBlur","schema","email","label","validate","isEmail","password","passwordConfirm","vals","buttons","pristine","invalid","values","text","disabled","UserRegister","useState","state","setState","showVerifInstruction","component","color","variant","error","onSubmit","fields","queryAPI","method","body","JSON","stringify","then","catch","err","message","to","trim","undefined","connect","dispatch","url","onSuccess","data","token","console","info","firstName","lastName","push","history","search","location","query","parseQuery","slice","verifToken","headers","Authorization","user","withStyles","theme","paper","padding","spacing","breakpoints","up","classes","container","alignItems","justify","item","xs","sm","md","lg","className","exact","path","UserVerify","UserResetChange","UserResetSend","UserLogin","passwordFormFields","current","fullWidth","loading","emailFormFields","helperText","display","flexWrap","justifyContent","tile","flexGrow","minWidth","margin","post","api","data-testid","gutterBottom","UsersView","userToken","props","toQuerystring","limit","pageSize","offset","page","orderDirection","orderBy","field","filters","map","filter","column","title","columns","filtering","render","row","date","updatedAt","isVerified","this","options","sorting","pageSizeOptions","React","Component","settings","UserDrawer","bootstrap","res","id","Error","routes","View","UserAccountView","Drawer","AnonymousView","AnonForms","store","reducers","action","wsBootstrap","socket","getState","on"],"mappings":"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","file":"eazinpublishingtest-users/ui/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"eazinpublishingtest-users/ui/index\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"eazinpublishingtest-users/ui/index\"] = factory();\n\telse\n\t\troot[\"eazinpublishingtest-users/ui/index\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 59);\n","module.exports = require(\"react\");","module.exports = require(\"@material-ui/core\");","module.exports = require(\"eazinpublishingtest-core/ui\");","module.exports = require(\"core-js/modules/es.symbol\");","module.exports = require(\"core-js/modules/es.array.filter\");","module.exports = require(\"core-js/modules/es.object.get-own-property-descriptor\");","module.exports = require(\"core-js/modules/es.object.get-own-property-descriptors\");","module.exports = require(\"core-js/modules/es.object.keys\");","module.exports = require(\"core-js/modules/web.dom-collections.for-each\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-redux\");","module.exports = require(\"@material-ui/core/styles\");","module.exports = require(\"core-js/modules/es.array.concat\");","module.exports = require(\"core-js/modules/es.object.to-string\");","module.exports = require(\"core-js/modules/es.array.iterator\");","module.exports = require(\"core-js/modules/web.dom-collections.iterator\");","export const setSetting = (key, value) => ({\n  type: 'SET_SETTING',\n  payload: { key, value },\n});\n\nexport const resetSetting = (key) => ({\n  type: 'RESET_SETTING',\n  payload: { key },\n});\n\nexport const clearSetting = (key) => ({\n  type: 'CLEAR_SETTING',\n  payload: { key },\n});\n\nexport const setSettings = (payload) => ({\n  type: 'SET_SETTINGS',\n  payload,\n});\n\nexport const resetSettings = () => ({ type: 'RESET_SETTINGS' });\n","module.exports = require(\"core-js/modules/es.symbol.description\");","module.exports = require(\"core-js/modules/es.symbol.iterator\");","module.exports = require(\"core-js/modules/es.string.iterator\");","module.exports = require(\"core-js/modules/es.string.trim\");","module.exports = require(\"core-js/modules/es.promise\");","module.exports = require(\"core-js/modules/es.array.map\");","module.exports = require(\"regenerator-runtime/runtime\");","module.exports = require(\"validator/es/lib/isEmail\");","module.exports = require(\"core-js/modules/es.regexp.to-string\");","module.exports = require(\"core-js/modules/es.object.get-prototype-of\");","module.exports = require(\"core-js/modules/es.object.set-prototype-of\");","module.exports = require(\"core-js/modules/es.regexp.exec\");","module.exports = require(\"querystring\");","module.exports = require(\"core-js/modules/es.array.slice\");","module.exports = require(\"core-js/modules/es.string.match\");","module.exports = require(\"core-js/modules/es.string.search\");","module.exports = require(\"@material-ui/styles\");","export const setUser = (payload) => ({ type: 'SET_USER', payload });\n\nexport const clearUser = () => ({ type: 'CLEAR_USER' });\n","export default (state = { user: null }, action) => {\n  switch (action.type) {\n    case 'SET_USER':\n      return {\n        user: {\n          ...(state.user || {}),\n          ...(action.payload || {}),\n        },\n      };\n\n    case 'CLEAR_USER':\n      return { user: null };\n\n    default:\n      return state;\n  }\n};\n","/* eslint-disable import/no-extraneous-dependencies */\nimport isEmail from 'validator/es/lib/isEmail';\n\nexport const validMail = (val = '') => {\n  if (!isEmail(val)) return 'Not a valid email address';\n  return undefined;\n};\n\nexport const validPassword = (val = '') => {\n  if (val.length < 13) return 'Must be at least 13 charachters long';\n  if (!val.match(/[a-z]+/)) return 'Must contain lowercase characters';\n  if (!val.match(/[A-Z]+/)) return 'Must contain uppercase characters';\n  if (!val.match(/[0-9]+/)) return 'Must contain numbers';\n  if (!val.match(/[^0-9a-zA-Z]+/)) return 'Must contain special charachters';\n  return undefined;\n};\n","import React, { useState } from 'react';\nimport { Typography } from '@material-ui/core';\n\nimport { Link, Form, queryAPI } from 'eazinpublishingtest-core/ui';\nimport { validMail, validPassword } from './user.validators';\n\nconst required = {\n  required: true,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  email: {\n    label: 'Email',\n    type: 'email',\n    ...required,\n    validate: validMail,\n  },\n  password: {\n    label: 'Password',\n    type: 'password',\n    ...required,\n    validate: validPassword,\n  },\n  passwordConfirm: {\n    label: 'Password Confirmation',\n    type: 'password',\n    ...required,\n    validate: (val = '', vals) => {\n      if (val !== vals.password) return 'Passwords don\\'t match';\n    },\n  },\n  buttons: {\n    type: 'buttons',\n    buttons: ({\n      pristine,\n      invalid,\n      values: {\n        email,\n        passwordConfirm,\n      },\n    }) => ([\n      {\n        text: 'Register',\n        type: 'submit',\n        disabled: pristine\n          || invalid\n          || !email\n          || !passwordConfirm,\n      },\n    ]),\n  },\n};\n\nconst UserRegister = () => {\n  const [state, setState] = useState({});\n\n  const handleSubmit = (fields) => queryAPI('/api/user/register', {\n    method: 'POST',\n    body: JSON.stringify({\n      password: fields.passwordConfirm,\n      email: fields.email,\n    }),\n  })\n    // eslint-disable-next-line no-console\n    .then(() => setState({ email: fields.email, showVerifInstruction: true }))\n    .catch((err) => setState({\n      error: (err.object || {}).message || err.message,\n    }));\n\n  if (state.showVerifInstruction) {\n    return (\n      <Typography component=\"div\" color=\"textPrimary\">\n        A verification email has been sent to&nbsp;\n        {state.email}\n        .\n      </Typography>\n    );\n  }\n\n  return (\n    <>\n      <Typography variant=\"h5\">Register</Typography>\n\n      {state.error && (\n        <Typography component=\"div\" color=\"error\">\n          {state.error}\n        </Typography>\n      )}\n\n      <Form\n        onSubmit={handleSubmit}\n        fields={schema}\n      />\n\n      <Link to=\"/reset\">Password reset</Link>\n      <Link to=\"/login\">Login</Link>\n    </>\n  );\n};\n\nexport default UserRegister;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport isEmail from 'validator/es/lib/isEmail';\n\nimport { Link, Form } from 'eazinpublishingtest-core/ui';\nimport { setUser } from './user.actions';\nimport { setSetting } from '../../../settings/src/ui/settings.actions';\n\nconst notEmpty = (val) => (val && val.trim() ? undefined : 'A value is required');\n\nconst required = {\n  required: true,\n  validate: notEmpty,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  email: {\n    label: 'Email',\n    type: 'email',\n    ...required,\n    validate: (val) => {\n      if (!isEmail(val)) return 'Not a valid email address';\n    },\n  },\n  password: {\n    label: 'Password',\n    type: 'password',\n    ...required,\n  },\n  buttons: {\n    buttons: [\n      {\n        text: 'Login',\n        type: 'submit',\n      },\n    ],\n  },\n};\n\nconst UserLogin = ({ dispatch }) => (\n  <>\n    <Form\n      method=\"post\"\n      url=\"/api/user/login\"\n      onSuccess={(data) => {\n        dispatch(setUser(data));\n        dispatch(setSetting('userToken', data.token));\n      }}\n      // onFailure={(...args) => console.info('failed', ...args)}\n      fields={schema}\n    />\n\n    <Link to=\"/reset\">Password reset</Link>\n    <Link to=\"/register\">Register</Link>\n  </>\n);\n\nUserLogin.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default connect(() => ({}))(UserLogin);\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport isEmail from 'validator/es/lib/isEmail';\n\nimport { Link, Form } from 'eazinpublishingtest-core/ui';\n\nconst notEmpty = (val) => (val && val.trim() ? undefined : 'A value is required');\n\nconst required = {\n  required: true,\n  validate: notEmpty,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  email: {\n    label: 'Email',\n    ...required,\n    validate: (val) => {\n      if (!isEmail(val)) return 'Not a valid email address';\n    },\n  },\n  buttons: {\n    buttons: [\n      {\n        type: 'submit',\n        text: 'Send reset email',\n      },\n    ],\n  },\n};\n\nexport default () => (\n  <>\n    <Typography variant=\"h5\">Password reset</Typography>\n\n    <Form\n      onSubmit={(fields) => {\n        // eslint-disable-next-line no-console\n        console.info('fields', fields);\n      }}\n      fields={schema}\n    />\n\n    <Link to=\"/login\">Login</Link>\n    <Link to=\"/register\">Register</Link>\n  </>\n);\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\n\nimport { Link, Form } from 'eazinpublishingtest-core/ui';\n\nconst notEmpty = (val) => (val && val.trim() ? undefined : 'A value is required');\n\nconst required = {\n  required: true,\n  validate: notEmpty,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  password: {\n    label: 'Password',\n    type: 'password',\n    ...required,\n    validate: (val = '') => {\n      if (val.length < 13) return 'Must be at least 13 charachters long';\n      if (!val.match(/[a-z]+/)) return 'Must contain lowercase characters';\n      if (!val.match(/[A-Z]+/)) return 'Must contain uppercase characters';\n      if (!val.match(/[0-9]+/)) return 'Must contain numbers';\n      if (!val.match(/[^0-9a-zA-Z]+/)) return 'Must contain special charachters';\n    },\n  },\n  passwordConfirm: {\n    label: 'Password Confirmation',\n    type: 'password',\n    ...required,\n    validate: (val = '', vals) => {\n      if (val !== vals.password) return 'Passwords don\\'t match';\n    },\n  },\n  buttons: {\n    buttons: [\n      {\n        type: 'submit',\n        text: 'Reset',\n      },\n    ],\n  },\n};\n\nexport default () => (\n  <>\n    <Typography variant=\"h5\">Password reset</Typography>\n\n    <Form\n      onSubmit={(fields) => {\n        // eslint-disable-next-line no-console\n        console.info('fields', fields);\n      }}\n      fields={schema}\n    />\n\n    <Link to=\"/login\">Login</Link>\n    <Link to=\"/register\">Register</Link>\n  </>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { parse as parseQuery } from 'querystring';\nimport { Typography } from '@material-ui/core';\n\nimport { Link, queryAPI, Form } from 'eazinpublishingtest-core/ui';\nimport { setSetting } from '../../../settings/src/ui/settings.actions';\nimport { setUser } from './user.actions';\n\nconst notEmpty = (val) => (val && val.trim() ? undefined : 'A value is required');\n\nconst required = {\n  required: true,\n  validate: notEmpty,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  firstName: {\n    label: 'First Name',\n    ...required,\n  },\n  lastName: {\n    label: 'Last Name',\n    ...required,\n  },\n\n  buttons: {\n    buttons: ({\n      pristine,\n      invalid,\n      values: {\n        firstName,\n        lastName,\n      },\n    }) => ([\n      {\n        type: 'submit',\n        text: 'Finish up',\n        disabled: pristine\n          || invalid\n          || !firstName\n          || !lastName,\n      },\n    ]),\n  },\n};\n\nconst UserVerify = ({\n  dispatch,\n  history: { push },\n  location: { search },\n}) => {\n  const query = parseQuery(search.slice(1) || '');\n\n  if (!query.token) {\n    return (\n      <Typography color=\"error\">\n        A verification token is required.\n      </Typography>\n    );\n  }\n\n  return (\n    <>\n      <Typography variant=\"h5\">Email verification</Typography>\n\n      <Form\n        onSubmit={async (fields) => {\n          const info = await queryAPI('/api/user/verify', {\n            method: 'POST',\n            body: JSON.stringify({\n              ...fields,\n              verifToken: query.token,\n            }),\n          });\n\n          const user = await queryAPI('/api/user/me', {\n            headers: {\n              Authorization: `Bearer ${info.token}`,\n            },\n          });\n\n          dispatch(setUser(user));\n          dispatch(setSetting('userToken', info.token));\n          push('/');\n        }}\n        fields={schema}\n      />\n\n      <Link to=\"/login\">Login</Link>\n      <Link to=\"/register\">Register</Link>\n    </>\n  );\n};\n\nUserVerify.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  location: PropTypes.shape({\n    search: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default connect(() => ({}))(UserVerify);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { Paper, Grid } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport UserRegister from './UserRegister';\nimport UserLogin from './UserLogin';\nimport UserResetSend from './UserResetSend';\nimport UserResetChange from './UserResetChange';\nimport UserVerify from './UserVerify';\n\nconst styles = (theme) => ({\n  paper: {\n    padding: theme.spacing(1),\n    [theme.breakpoints.up('md')]: {\n      padding: theme.spacing(2),\n    },\n  },\n});\n\nexport default withStyles(styles)(({ classes }) => (\n  <Grid container alignItems=\"center\" justify=\"center\">\n    <Grid item xs={12} sm={10} md={6} lg={4}>\n      <Paper className={classes.paper}>\n        <Switch>\n          <Route exact path=\"/register\" component={UserRegister} />\n          <Route path=\"/verify\" component={UserVerify} />\n          <Route path=\"/reset/change\" component={UserResetChange} />\n          <Route exact path={['/reset', '/reset/send']} component={UserResetSend} />\n          <Route path={['/', '/login']} component={UserLogin} />\n        </Switch>\n      </Paper>\n    </Grid>\n  </Grid>\n));\n","import React from 'react';\nimport { Paper, Grid, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\n\nimport { Form } from 'eazinpublishingtest-core/ui';\nimport { validPassword } from './user.validators';\n\nconst required = {\n  required: true,\n  validateOnChange: true,\n};\nconst passwordFormFields = {\n  current: {\n    label: 'Current Password',\n    type: 'password',\n    ...required,\n    fullWidth: true,\n    validate: validPassword,\n  },\n  password: {\n    label: 'New Password',\n    type: 'password',\n    ...required,\n    fullWidth: true,\n    validate: validPassword,\n  },\n  passwordConfirm: {\n    label: 'Confirmation',\n    type: 'password',\n    ...required,\n    fullWidth: true,\n    validate: (val = '', vals) => {\n      if (val !== vals.password) return 'Passwords don\\'t match';\n    },\n  },\n  buttons: {\n    buttons: ({\n      pristine,\n      invalid,\n      values: {\n        current,\n        password,\n        passwordConfirm,\n      },\n    }, { loading }) => [\n      {\n        text: 'Change Password',\n        type: 'submit',\n        loading,\n        disabled: pristine\n          || invalid\n          || !current\n          || !password\n          || !passwordConfirm,\n      },\n    ],\n  },\n};\n\nconst emailFormFields = {\n  email: {\n    label: 'New Email Address',\n    type: 'email',\n    ...required,\n    fullWidth: true,\n    helperText: 'A verification email will first be send to this address. The new address will be effective only once verified',\n  },\n  buttons: {\n    buttons: ({\n      pristine,\n      invalid,\n      values: {\n        email,\n      },\n    }) => [\n      {\n        text: 'Send verification mail',\n        type: 'submit',\n        disabled: pristine\n          || invalid\n          || !email,\n      },\n    ],\n  },\n};\n\nconst styles = (theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n  },\n  tile: {\n    flexGrow: 1,\n    minWidth: '33%',\n  },\n  paper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n  },\n});\n\nconst AccountView = ({ api: { post }, classes }) => (\n  <Grid\n    container\n    spacing={1}\n    className={classes.root}\n  >\n    <Grid item className={classes.tile} sm>\n      <Paper className={classes.paper} data-testid=\"password-change\">\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n        >\n            Change Password\n        </Typography>\n\n        <Form\n          method=\"post\"\n          url=\"/api/user/password\"\n          fields={passwordFormFields}\n        />\n      </Paper>\n    </Grid>\n\n    <Grid item className={classes.tile} sm>\n      <Paper className={classes.paper} data-testid=\"email-change\">\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n        >\n            Change Email\n        </Typography>\n\n        <Form\n          onSubmit={(fields) => post('/api/user/email', { body: fields })}\n          fields={emailFormFields}\n        />\n      </Paper>\n    </Grid>\n  </Grid>\n);\n\nexport default withStyles(styles)(AccountView);\n","import { stringify as toQuerystring } from 'querystring';\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport { queryAPI, Table, TimeAgo } from 'eazinpublishingtest-core/ui';\n\nclass UsersView extends React.Component {\n  query = async (query) => {\n    const { userToken } = this.props;\n\n    const url = `/api/users?${toQuerystring({\n      limit: query.pageSize,\n      offset: query.pageSize * query.page,\n      orderDirection: query.orderDirection,\n      orderBy: query.orderBy ? query.orderBy.field : 'updatedAt',\n      search: query.search,\n      filters: JSON.stringify((query.filters || []).map((filter) => ({\n        ...filter,\n        column: filter.column.field,\n      }))),\n    })}`;\n\n    return queryAPI(url, {\n      headers: {\n        Authorization: `Bearer ${userToken}`,\n      },\n    });\n  };\n\n  render() {\n    return (\n      <Table\n        title=\"User\"\n        columns={[\n          {\n            title: 'Date',\n            filtering: false,\n            field: 'updatedAt',\n            render: (row) => <TimeAgo date={(row && row.updatedAt)} />,\n          },\n          {\n            title: 'Verified',\n            field: 'isVerified',\n            render: (row) => (row.isVerified ? 'verified' : 'un-verified'),\n          },\n          { title: 'First Name', field: 'firstName' },\n          { title: 'Last Name', field: 'lastName' },\n          { title: 'Email', field: 'email' },\n        ]}\n        data={this.query}\n        options={{\n          search: false,\n          filtering: true,\n          sorting: true,\n          pageSize: 20,\n          pageSizeOptions: [10, 20, 50, 100],\n        }}\n      />\n    );\n  }\n}\n\nUsersView.propTypes = {\n  ...ViewPropTypes,\n};\n\nconst mapStateToProps = ({\n  settings: { userToken } = {},\n}) => ({\n  userToken,\n});\n\nexport default connect(mapStateToProps)(UsersView);\n","import React from 'react';\n\nimport { LayoutDrawerLink as Link } from 'eazinpublishingtest-core/ui';\n\nconst UserDrawer = () => (\n  <Link to=\"/account\">\n    Account\n  </Link>\n);\n\nexport default UserDrawer;\n","\nimport { queryAPI } from 'eazinpublishingtest-core/ui';\nimport { clearSetting } from '../../../settings/src/ui/settings.actions';\n\nimport { setUser, clearUser } from './user.actions';\nimport reducer from './user.reducer';\n\nimport AnonForms from './AnonForms';\nimport UserAccountView from './UserAccountView';\nimport UsersView from './UsersView';\nimport UserDrawer from './UserDrawer';\n\nexport const bootstrap = (state, dispatch) => queryAPI.get('/api/user/me')\n  .then((res) => {\n    if (!res.id) throw new Error('No id');\n    dispatch(setUser(res));\n  })\n  .catch(() => {\n    dispatch(clearUser());\n    dispatch(clearSetting('userToken'));\n  });\n\nconst routes = [\n  {\n    path: '/account',\n    View: UserAccountView,\n  },\n  {\n    path: '/users',\n    View: UsersView,\n  },\n  {\n    path: '/',\n    Drawer: UserDrawer,\n    AnonymousView: AnonForms,\n  },\n];\n\nconst store = {\n  user: {},\n};\n\nconst wsBootstrap = (socket, dispatch, getState) => {\n  // eslint-disable-next-line no-console\n  console.info('user wsBootstrap', socket, dispatch, getState);\n  socket.on('user.update', (user) => dispatch(setUser(user)));\n};\n\nexport default {\n  routes,\n  bootstrap,\n  store,\n  reducers: {\n    user: reducer,\n  },\n  wsBootstrap,\n};\n"],"sourceRoot":""}