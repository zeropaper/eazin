(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[5],{14:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(2),i=r(3),l=r(10),c=r.n(l),u=r(6),s=function(e){var t=e.label,r=e.fields,n=e.field,i=e.classes,l=e.className,s=e.state,f=e.api;return o.a.createElement("fieldset",{className:c()(i.root,l)},o.a.createElement(a.Typography,{className:i.legend,component:"legend"},t),o.a.createElement("div",null,o.a.createElement(u.a,{state:s,api:f,fields:r,field:n})))};s.defaultProps={field:null,className:null},t.a=Object(i.withStyles)((function(e){return{root:{border:1,borderStyle:"solid",borderColor:e.palette.grey[500],margin:"".concat(e.spacing(1),"px 0"),padding:e.spacing(1)},legend:{padding:e.spacing(1)}}}))(s)},15:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(9),i=r(2);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=function(e){var t=e.fieldState,r=e.fieldApi,n=u(e,["fieldState","fieldApi"]),a=t.value,s=t.touched,f=r.setValue,p=r.setTouched,b=n.onChange,y=n.onBlur,d=n.initialValue,m=(n.defaultValue,n.forwardedRef),O=n.helperText,h=u(n,["onChange","onBlur","initialValue","defaultValue","forwardedRef","helperText"]),v=a||0===a?a:!s&&d?d:"",g=n.error||t.error||t.asyncError;return o.a.createElement(i.TextField,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},h,{name:h.field,inputRef:m,value:v,inputProps:{onChange:function(e){f(e.target.value),b&&b(e)},onBlur:function(e){p(!0),y&&y(e)}},helperText:g||O,error:!!g}))};s.defaultProps={forwardedRef:null,onChange:null,onBlur:null,error:null,helperText:null,initialValue:null,defaultValue:null},t.a=Object(a.asField)(s)},16:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(20),i=r.n(a),l=r(10),c=r.n(l),u=r(21),s=r.n(u);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{style:null,className:null,buttons:[],classes:{}},t=e.style,r=void 0===t?null:t,n=e.className,a=void 0===n?null:n,l=e.buttons,u=void 0===l?[]:l,s=e.classes;return o.a.createElement("div",{style:r,className:c()(a,s.root)},u.map((function(e){var t=e.children,r=e.text,n=p({key:e.key||r,variant:"contained",type:"button",color:"primary"},y(e,["children","text","key"]));return o.a.createElement(i.a,p({},n),t||r)})))};d.defaultProps={style:null,className:null,buttons:[]},t.a=s()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"flex-end","& > button":{marginLeft:e.spacing(2)}}}}))(d)},24:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(9),i=r(8),l=r(6);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=s(this,(e=f(t)).call.apply(e,[this].concat(a)))).state={errors:null,error:null},r.handleSubmit=function(e){var t,n,o,a,l,c,u,s,f,p,b;return regeneratorRuntime.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(t=r.props,n=t.onSubmit,o=t.onSuccess,a=t.onFailure,l=t.method,c=t.url,u=t.processFields,s=t.userToken,y.prev=1,f="function"==typeof u?u(e):e,!n){y.next=7;break}return y.next=6,regeneratorRuntime.awrap(n(f));case 6:return y.abrupt("return");case 7:if(!l||!c){y.next=14;break}return p={"Content-Type":"application/json"},s&&(p.Authorization="Bearer ".concat(s)),y.next=12,regeneratorRuntime.awrap(Object(i.a)(c,{method:l.toUpperCase(),body:JSON.stringify(f),headers:p}));case 12:b=y.sent,"function"==typeof o&&o(b);case 14:y.next=21;break;case 16:throw y.prev=16,y.t0=y.catch(1),r.setState({errors:y.t0.fields||{},error:y.t0.message}),"function"==typeof a&&a(y.t0),y.t0;case 21:case"end":return y.stop()}}),null,null,[[1,16]])},r.renderFields=function(e){var t=e.formState,n=e.formApi,a=r.props,i=a.fields,c=a.fieldClassName,u=r.state;u.errors,u.error;return o.a.createElement(l.a,{fields:i,fieldClassName:c,state:t,api:n})},r}var r,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props.render;return o.a.createElement(a.Form,{onSubmit:this.handleSubmit,noValidate:!0,render:e||this.renderFields})}}])&&u(r.prototype,n),c&&u(r,c),t}(o.a.Component);b.defaultProps={method:null,url:null,processFields:null,onSubmit:null,onSuccess:null,onFailure:null,render:null,fieldClassName:null,userToken:null},t.a=b},39:function(e,t,r){"use strict";var n=r(7),o=r.n(n);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={history:o.a.shape({push:o.a.func.isRequired}),match:o.a.shape({params:o.a.any})};i({},c),i({},c)},51:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(13),i=r(2),l=(r(39),function(e){return{type:"UPSERT_COMPANY",payload:e}}),c=r(8),u=r(24);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O={name:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({label:"Name"},{required:!0,validate:function(e){return e&&e.trim()?void 0:"A value is required"},validateOnChange:!0,validateOnBlur:!0}),buttons:{buttons:function(e,t,r,n){return[{disabled:e.pristine,type:"reset",text:"Reset",color:"default"},{disabled:e.pristine||e.error,text:"Ok"}]}}},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,b(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){var e,t,r,n;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.userToken,r=e.dispatch,o.next=3,regeneratorRuntime.awrap(Object(c.a)("/api/companies",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}));case 3:n=o.sent,r({type:"UPSERT_COMPANIES",payload:n});case 5:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.companies,r=e.dispatch,n=e.history.push,a=e.userToken;return o.a.createElement(o.a.Fragment,null,o.a.createElement("header",null,o.a.createElement(i.Typography,{variant:"h2"},"Companies")),o.a.createElement(u.a,{userToken:a,fields:O,method:"post",url:"/api/companies",onSuccess:function(e){r(l(e)),n("/companies/".concat(e.id))}}),Object.keys(t).filter(Boolean).map((function(e){return e&&o.a.createElement("section",{key:e},o.a.createElement("header",null,o.a.createElement("h1",null,t[e].name)),o.a.createElement("div",null,o.a.createElement(u.a,{userToken:a,fields:O,method:"patch",url:"/api/companies/".concat(e),onSuccess:function(e){r(l(e))}})))})))}}])&&f(r.prototype,n),a&&f(r,a),t}(o.a.Component);t.default=Object(a.connect)((function(e){return{companies:e.companies,userToken:e.settings.userToken}}))(h)},6:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(14),i=r(15),l=r(16);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function e(t){var r=t.fields,n=t.field,s=void 0===n?"":n,f=t.state,p=t.api;return Object.keys(r).map((function(t){var n=r[t],b=n.type,y=n.label,d=n.fields,m=void 0===d?{}:d,O=n.buttons,h=n.className,v=s?"".concat(s,".").concat(t):t;return"fieldset"===b?o.a.createElement(a.a,{key:t,label:y,fields:m,field:v,state:f,api:p,className:h}):"fields"===b?o.a.createElement(e,{key:t,label:y,fields:m,field:v,state:f,api:p,className:h}):O?o.a.createElement(l.a,{key:t,buttons:"function"==typeof O?O(f,p,t,r):O,className:h}):o.a.createElement(i.a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n,{key:t,field:v}))})).filter(Boolean)};s.defaultProps={field:void 0,className:null},t.a=s}}]);
//# sourceMappingURL=CompaniesView.js.map