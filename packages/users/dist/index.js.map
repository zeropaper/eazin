{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external \"react\"","webpack://[name]/external \"@material-ui/core\"","webpack://[name]/external \"eazin-ui/src/core/plugins.propTypes\"","webpack://[name]/external \"eazin-ui/src/core/util/queryAPI\"","webpack://[name]/external \"eazin-ui/dist/components/Layout/Layout.Drawer.Link\"","webpack://[name]/external \"react-router-dom\"","webpack://[name]/external \"eazin-ui/dist/components/Link\"","webpack://[name]/external \"eazin-ui/dist/components/Form/FormBase\"","webpack://[name]/external \"querystring\"","webpack://[name]/external \"eazin-ui/dist/components/TimeAgo\"","webpack://[name]/external \"eazin-ui/dist/components/Table\"","webpack://[name]/external \"eazin-settings/src/ui/settings.actions\"","webpack://[name]/external \"validator/es/lib/isEmail\"","webpack://[name]/external \"@material-ui/core/styles\"","webpack://[name]/external \"@material-ui/styles\"","webpack://[name]/external \"react-redux\"","webpack://[name]/./packages/users/src/ui/user.actions.js","webpack://[name]/./packages/users/src/ui/user.reducer.js","webpack://[name]/./packages/users/src/ui/user.validators.js","webpack://[name]/./packages/users/src/ui/UserRegister.jsx","webpack://[name]/./packages/users/src/ui/UserLogin.jsx","webpack://[name]/./packages/users/src/ui/UserResetSend.jsx","webpack://[name]/./packages/users/src/ui/UserResetChange.jsx","webpack://[name]/./packages/users/src/ui/UserVerify.jsx","webpack://[name]/./packages/users/src/ui/AnonForms.jsx","webpack://[name]/./packages/users/src/ui/UserAccountView.jsx","webpack://[name]/./packages/users/src/ui/UsersView.jsx","webpack://[name]/./packages/users/src/ui/UserDrawer.jsx","webpack://[name]/./packages/users/src/ui/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","setUser","payload","type","validPassword","val","length","match","required","validateOnChange","validateOnBlur","schema","email","label","validate","isEmail","password","passwordConfirm","vals","buttons","text","UserRegister","useState","state","setState","showVerifInstruction","component","color","variant","error","onSubmit","fields","queryAPI","method","body","JSON","stringify","then","err","message","to","trim","undefined","connect","dispatch","url","onSuccess","data","setSetting","token","console","info","firstName","lastName","push","history","search","location","query","parseQuery","slice","async","verifToken","headers","Authorization","user","withStyles","theme","paper","padding","spacing","breakpoints","up","classes","container","alignItems","justify","item","xs","sm","md","lg","className","exact","path","UserVerify","UserResetChange","UserResetSend","UserLogin","passwordFormFields","current","fullWidth","emailFormFields","helperText","display","flexWrap","justifyContent","tile","flexGrow","minWidth","margin","post","api","gutterBottom","UsersView","userToken","props","toQuerystring","limit","pageSize","offset","page","orderDirection","orderBy","field","filters","map","filter","column","title","columns","filtering","render","row","date","updatedAt","isVerified","this","options","sorting","pageSizeOptions","React","Component","settings","UserDrawer","bootstrap","res","id","Error","clearSetting","routes","View","UserAccountView","Drawer","AnonymousView","AnonForms","store","reducers","action","wsBootstrap","socket","getState","on"],"mappings":"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","file":"packages/users/dist/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"packages/users/dist/index\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"packages/users/dist/index\"] = factory();\n\telse\n\t\troot[\"packages/users/dist/index\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 93);\n","module.exports = require(\"react\");","module.exports = require(\"@material-ui/core\");","module.exports = require(\"eazin-ui/src/core/plugins.propTypes\");","module.exports = require(\"eazin-ui/src/core/util/queryAPI\");","module.exports = require(\"eazin-ui/dist/components/Layout/Layout.Drawer.Link\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"eazin-ui/dist/components/Link\");","module.exports = require(\"eazin-ui/dist/components/Form/FormBase\");","module.exports = require(\"querystring\");","module.exports = require(\"eazin-ui/dist/components/TimeAgo\");","module.exports = require(\"eazin-ui/dist/components/Table\");","module.exports = require(\"eazin-settings/src/ui/settings.actions\");","module.exports = require(\"validator/es/lib/isEmail\");","module.exports = require(\"@material-ui/core/styles\");","module.exports = require(\"@material-ui/styles\");","module.exports = require(\"react-redux\");","export const setUser = (payload) => ({ type: 'SET_USER', payload });\n\nexport const clearUser = () => ({ type: 'CLEAR_USER' });\n","export default (state = { user: null }, action) => {\n  switch (action.type) {\n    case 'SET_USER':\n      return {\n        user: {\n          ...(state.user || {}),\n          ...(action.payload || {}),\n        },\n      };\n\n    case 'CLEAR_USER':\n      return { user: null };\n\n    default:\n      return state;\n  }\n};\n","import isEmail from 'validator/es/lib/isEmail';\n\nexport const validMail = (val = '') => {\n  if (!isEmail(val)) return 'Not a valid email address';\n};\n\nexport const validPassword = (val = '') => {\n  if (val.length < 13) return 'Must be at least 13 charachters long';\n  if (!val.match(/[a-z]+/)) return 'Must contain lowercase characters';\n  if (!val.match(/[A-Z]+/)) return 'Must contain uppercase characters';\n  if (!val.match(/[0-9]+/)) return 'Must contain numbers';\n  if (!val.match(/[^0-9a-zA-Z]+/)) return 'Must contain special charachters';\n};\n","import React, { useState } from 'react';\nimport { Typography } from '@material-ui/core';\n\nimport Link from 'eazin-ui/dist/components/Link';\nimport queryAPI from 'eazin-ui/src/core/util/queryAPI';\nimport Form from 'eazin-ui/dist/components/Form/FormBase';\nimport { validMail, validPassword } from './user.validators';\n\nconst required = {\n  required: true,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  email: {\n    label: 'Email',\n    type: 'email',\n    ...required,\n    validate: validMail,\n  },\n  password: {\n    label: 'Password',\n    type: 'password',\n    ...required,\n    validate: validPassword,\n  },\n  passwordConfirm: {\n    label: 'Password Confirmation',\n    type: 'password',\n    ...required,\n    validate: (val = '', vals) => {\n      if (val !== vals.password) return 'Passwords don\\'t match';\n    },\n  },\n  buttons: {\n    buttons: [\n      {\n        text: 'Register',\n        type: 'submit',\n      },\n    ],\n  },\n};\n\nconst UserRegister = () => {\n  const [state, setState] = useState({});\n\n  const handleSubmit = (fields) => queryAPI('/api/user/register', {\n    method: 'POST',\n    body: JSON.stringify({\n      password: fields.passwordConfirm,\n      email: fields.email,\n    }),\n  })\n    // eslint-disable-next-line no-console\n    .then(() => setState({ email: fields.email, showVerifInstruction: true }))\n    .catch((err) => setState({\n      error: (err.object || {}).message || err.message,\n    }));\n\n  if (state.showVerifInstruction) {\n    return (\n      <Typography component=\"div\" color=\"textPrimary\">\n        A verification email has been sent to&nbsp;\n        {state.email}\n        .\n      </Typography>\n    );\n  }\n\n  return (\n    <>\n      <Typography variant=\"h5\">Register</Typography>\n\n      {state.error && (\n        <Typography component=\"div\" color=\"error\">\n          {state.error}\n        </Typography>\n      )}\n\n      <Form\n        onSubmit={handleSubmit}\n        fields={schema}\n      />\n\n      <Link to=\"/reset\">Password reset</Link>\n      <Link to=\"/login\">Login</Link>\n    </>\n  );\n};\n\nexport default UserRegister;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport isEmail from 'validator/es/lib/isEmail';\n\nimport Link from 'eazin-ui/dist/components/Link';\n// import queryAPI from 'eazin-ui/src/core/util/queryAPI';\nimport Form from 'eazin-ui/dist/components/Form/FormBase';\nimport { setSetting } from 'eazin-settings/src/ui/settings.actions';\n\nimport { setUser } from './user.actions';\n\nconst notEmpty = (val) => (val && val.trim() ? undefined : 'A value is required');\n\nconst required = {\n  required: true,\n  validate: notEmpty,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  email: {\n    label: 'Email',\n    type: 'email',\n    ...required,\n    validate: (val) => {\n      if (!isEmail(val)) return 'Not a valid email address';\n    },\n  },\n  password: {\n    label: 'Password',\n    type: 'password',\n    ...required,\n  },\n  buttons: {\n    buttons: [\n      {\n        text: 'Login',\n        type: 'submit',\n      },\n    ],\n  },\n};\n\nconst UserLogin = ({ dispatch }) => (\n  <>\n    <Form\n      method=\"post\"\n      url=\"/api/user/login\"\n      onSuccess={(data) => {\n        dispatch(setUser(data));\n        dispatch(setSetting('userToken', data.token));\n      }}\n      // onFailure={(...args) => console.info('failed', ...args)}\n      fields={schema}\n    />\n\n    <Link to=\"/reset\">Password reset</Link>\n    <Link to=\"/register\">Register</Link>\n  </>\n);\n\nUserLogin.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default connect(() => ({}))(UserLogin);\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport isEmail from 'validator/es/lib/isEmail';\n\nimport Link from 'eazin-ui/dist/components/Link';\nimport Form from 'eazin-ui/dist/components/Form/FormBase';\n\nconst notEmpty = (val) => (val && val.trim() ? undefined : 'A value is required');\n\nconst required = {\n  required: true,\n  validate: notEmpty,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  email: {\n    label: 'Email',\n    ...required,\n    validate: (val) => {\n      if (!isEmail(val)) return 'Not a valid email address';\n    },\n  },\n  buttons: {\n    buttons: [\n      {\n        type: 'submit',\n        text: 'Send reset email',\n      },\n    ],\n  },\n};\n\nexport default () => (\n  <>\n    <Typography variant=\"h5\">Password reset</Typography>\n\n    <Form\n      onSubmit={(fields) => {\n        // eslint-disable-next-line no-console\n        console.info('fields', fields);\n      }}\n      fields={schema}\n    />\n\n    <Link to=\"/login\">Login</Link>\n    <Link to=\"/register\">Register</Link>\n  </>\n);\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\n\nimport Link from 'eazin-ui/dist/components/Link';\nimport Form from 'eazin-ui/dist/components/Form/FormBase';\n\nconst notEmpty = (val) => (val && val.trim() ? undefined : 'A value is required');\n\nconst required = {\n  required: true,\n  validate: notEmpty,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  password: {\n    label: 'Password',\n    type: 'password',\n    ...required,\n    validate: (val = '') => {\n      if (val.length < 13) return 'Must be at least 13 charachters long';\n      if (!val.match(/[a-z]+/)) return 'Must contain lowercase characters';\n      if (!val.match(/[A-Z]+/)) return 'Must contain uppercase characters';\n      if (!val.match(/[0-9]+/)) return 'Must contain numbers';\n      if (!val.match(/[^0-9a-zA-Z]+/)) return 'Must contain special charachters';\n    },\n  },\n  passwordConfirm: {\n    label: 'Password Confirmation',\n    type: 'password',\n    ...required,\n    validate: (val = '', vals) => {\n      if (val !== vals.password) return 'Passwords don\\'t match';\n    },\n  },\n  buttons: {\n    buttons: [\n      {\n        type: 'submit',\n        text: 'Reset',\n      },\n    ],\n  },\n};\n\nexport default () => (\n  <>\n    <Typography variant=\"h5\">Password reset</Typography>\n\n    <Form\n      onSubmit={(fields) => {\n        // eslint-disable-next-line no-console\n        console.info('fields', fields);\n      }}\n      fields={schema}\n    />\n\n    <Link to=\"/login\">Login</Link>\n    <Link to=\"/register\">Register</Link>\n  </>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { parse as parseQuery } from 'querystring';\nimport { Typography } from '@material-ui/core';\n\nimport Link from 'eazin-ui/dist/components/Link';\nimport queryAPI from 'eazin-ui/src/core/util/queryAPI';\nimport Form from 'eazin-ui/dist/components/Form/FormBase';\nimport { setSetting } from 'eazin-settings/src/ui/settings.actions';\nimport { setUser } from './user.actions';\n\nconst notEmpty = (val) => (val && val.trim() ? undefined : 'A value is required');\n\nconst required = {\n  required: true,\n  validate: notEmpty,\n  validateOnChange: true,\n  validateOnBlur: true,\n};\nconst schema = {\n  firstName: {\n    label: 'First Name',\n    ...required,\n  },\n  lastName: {\n    label: 'Last Name',\n    ...required,\n  },\n\n  buttons: {\n    buttons: [\n      {\n        type: 'submit',\n        text: 'Finish up',\n      },\n    ],\n  },\n};\n\nconst UserVerify = ({\n  dispatch,\n  history: { push },\n  location: { search },\n}) => {\n  const query = parseQuery(search.slice(1) || '');\n\n  if (!query.token) {\n    return (\n      <Typography color=\"error\">\n        A verification token is required.\n      </Typography>\n    );\n  }\n\n  return (\n    <>\n      <Typography variant=\"h5\">Email verification</Typography>\n\n      <Form\n        onSubmit={async (fields) => {\n          const info = await queryAPI('/api/user/verify', {\n            method: 'POST',\n            body: JSON.stringify({\n              ...fields,\n              verifToken: query.token,\n            }),\n          });\n\n          const user = await queryAPI('/api/user/me', {\n            headers: {\n              Authorization: `Bearer ${info.token}`,\n            },\n          });\n\n          dispatch(setUser(user));\n          dispatch(setSetting('userToken', info.token));\n          push('/');\n        }}\n        fields={schema}\n      />\n\n      <Link to=\"/login\">Login</Link>\n      <Link to=\"/register\">Register</Link>\n    </>\n  );\n};\n\nUserVerify.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  location: PropTypes.shape({\n    search: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default connect(() => ({}))(UserVerify);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { Paper, Grid } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport UserRegister from './UserRegister';\nimport UserLogin from './UserLogin';\nimport UserResetSend from './UserResetSend';\nimport UserResetChange from './UserResetChange';\nimport UserVerify from './UserVerify';\n\nconst styles = (theme) => ({\n  paper: {\n    padding: theme.spacing(1),\n    [theme.breakpoints.up('md')]: {\n      padding: theme.spacing(2),\n    },\n  },\n});\n\nexport default withStyles(styles)(({ classes }) => (\n  <Grid container alignItems=\"center\" justify=\"center\">\n    <Grid item xs={12} sm={10} md={6} lg={4}>\n      <Paper className={classes.paper}>\n        <Switch>\n          <Route exact path=\"/register\" component={UserRegister} />\n          <Route path=\"/verify\" component={UserVerify} />\n          <Route path=\"/reset/change\" component={UserResetChange} />\n          <Route exact path={['/reset', '/reset/send']} component={UserResetSend} />\n          <Route path={['/', '/login']} component={UserLogin} />\n        </Switch>\n      </Paper>\n    </Grid>\n  </Grid>\n));\n","import React from 'react';\nimport { Paper, Grid, Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\n\nimport Form from 'eazin-ui/dist/components/Form/FormBase';\nimport { View as ViewPropTypes } from 'eazin-ui/src/core/plugins.propTypes';\nimport { validPassword } from './user.validators';\n\nconst required = {\n  required: true,\n  validateOnChange: true,\n  // validateOnBlur: true,\n};\nconst passwordFormFields = {\n  current: {\n    label: 'Current Password',\n    type: 'password',\n    ...required,\n    fullWidth: true,\n  },\n  password: {\n    label: 'New Password',\n    type: 'password',\n    ...required,\n    fullWidth: true,\n    validate: validPassword,\n  },\n  passwordConfirm: {\n    label: 'Confirmation',\n    type: 'password',\n    ...required,\n    fullWidth: true,\n    validate: (val = '', vals) => {\n      if (val !== vals.password) return 'Passwords don\\'t match';\n    },\n  },\n  buttons: {\n    buttons: [\n      {\n        text: 'Change Password',\n        type: 'submit',\n      },\n    ],\n  },\n};\n\nconst emailFormFields = {\n  email: {\n    label: 'New Email Address',\n    type: 'email',\n    ...required,\n    fullWidth: true,\n    // eslint-disable-next-line max-len\n    helperText: 'A verification email will first be send to this address. The new address will be effective only once verified',\n  },\n  buttons: {\n    buttons: [\n      {\n        type: 'submit',\n        text: 'Verify',\n      },\n    ],\n  },\n};\n\nconst styles = (theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n  },\n  tile: {\n    flexGrow: 1,\n    minWidth: '33%',\n  },\n  paper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1),\n  },\n});\n\nconst AccountView = ({ api: { post }, classes }) => (\n  <Grid\n    container\n    spacing={1}\n    className={classes.root}\n  >\n    <Grid item className={classes.tile} sm>\n      <Paper className={classes.paper}>\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n        >\n            Change Password\n        </Typography>\n\n        <Form\n          method=\"post\"\n          url=\"/api/user/password\"\n          fields={passwordFormFields}\n        />\n      </Paper>\n    </Grid>\n\n    <Grid item className={classes.tile} sm>\n      <Paper className={classes.paper}>\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n        >\n            Change Email\n        </Typography>\n\n        <Form\n          onSubmit={(fields) => post('/api/user/email', { body: fields })}\n          fields={emailFormFields}\n        />\n      </Paper>\n    </Grid>\n  </Grid>\n);\n\nAccountView.propTypes = ViewPropTypes;\n\nexport default withStyles(styles)(AccountView);\n","import { stringify as toQuerystring } from 'querystring';\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport { View as ViewPropTypes } from 'eazin-ui/src/core/plugins.propTypes';\nimport queryAPI from 'eazin-ui/src/core/util/queryAPI';\nimport Table from 'eazin-ui/dist/components/Table';\nimport TimeAgo from 'eazin-ui/dist/components/TimeAgo';\n\nclass UsersView extends React.Component {\n  query = async (query) => {\n    const { userToken } = this.props;\n\n    const url = `/api/users?${toQuerystring({\n      limit: query.pageSize,\n      offset: query.pageSize * query.page,\n      orderDirection: query.orderDirection,\n      orderBy: query.orderBy ? query.orderBy.field : 'updatedAt',\n      search: query.search,\n      filters: JSON.stringify((query.filters || []).map((filter) => ({\n        ...filter,\n        column: filter.column.field,\n      }))),\n    })}`;\n\n    return queryAPI(url, {\n      headers: {\n        Authorization: `Bearer ${userToken}`,\n      },\n    });\n  };\n\n  render() {\n    return (\n      <Table\n        title=\"User\"\n        columns={[\n          {\n            title: 'Date',\n            filtering: false,\n            field: 'updatedAt',\n            render: (row) => <TimeAgo date={(row && row.updatedAt)} />,\n          },\n          {\n            title: 'Verified',\n            field: 'isVerified',\n            render: (row) => (row.isVerified ? 'verified' : 'un-verified'),\n          },\n          { title: 'First Name', field: 'firstName' },\n          { title: 'Last Name', field: 'lastName' },\n          { title: 'Email', field: 'email' },\n        ]}\n        data={this.query}\n        options={{\n          search: false,\n          filtering: true,\n          sorting: true,\n          pageSize: 20,\n          pageSizeOptions: [10, 20, 50, 100],\n        }}\n      />\n    );\n  }\n}\n\nUsersView.propTypes = {\n  ...ViewPropTypes,\n};\n\nconst mapStateToProps = ({\n  settings: { userToken } = {},\n}) => ({\n  userToken,\n});\n\nexport default connect(mapStateToProps)(UsersView);\n","import React from 'react';\n\nimport Link from 'eazin-ui/dist/components/Layout/Layout.Drawer.Link';\n\nconst UserDrawer = () => (\n  <Link to=\"/account\">\n    Account\n  </Link>\n);\n\nexport default UserDrawer;\n","\nimport { get } from 'eazin-ui/src/core/util/queryAPI';\nimport { clearSetting } from 'eazin-settings/src/ui/settings.actions';\n\nimport { setUser, clearUser } from './user.actions';\nimport reducer from './user.reducer';\n\nimport AnonForms from './AnonForms';\nimport UserAccountView from './UserAccountView';\nimport UsersView from './UsersView';\nimport UserDrawer from './UserDrawer';\n\nexport const bootstrap = (state, dispatch) => get('/api/user/me')\n  .then((res) => {\n    if (!res.id) throw new Error('No id');\n    dispatch(setUser(res));\n  })\n  .catch(() => {\n    dispatch(clearUser());\n    dispatch(clearSetting('userToken'));\n  });\n\nconst routes = [\n  {\n    path: '/account',\n    View: UserAccountView,\n  },\n  {\n    path: '/users',\n    View: UsersView,\n  },\n  {\n    path: '/',\n    Drawer: UserDrawer,\n    AnonymousView: AnonForms,\n  },\n];\n\nconst store = {\n  user: {},\n};\n\nconst wsBootstrap = (socket, dispatch, getState) => {\n  // eslint-disable-next-line no-console\n  console.info('user wsBootstrap', socket, dispatch, getState);\n  socket.on('user.update', (user) => dispatch(setUser(user)));\n};\n\nexport default {\n  routes,\n  bootstrap,\n  store,\n  reducers: {\n    user: reducer,\n  },\n  wsBootstrap,\n};\n"],"sourceRoot":""}